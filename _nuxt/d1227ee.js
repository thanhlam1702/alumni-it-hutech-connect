(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{1251:function(t,e,n){t.exports=n.p+"img/bg-user-default.46ff489.jpg"},1361:function(t,e,n){"use strict";n.r(e);var r=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"user__bg"},[e("div",{staticClass:"user__bg-img"},[e("img",{attrs:{src:n(1251),alt:""}})])])}],c=(n(40),n(36),n(16)),o={asyncData:function(t){var e=t.$axios,n=t.params;return e.$get("https://hutech-alumnni-social.herokuapp.com/api/auth/"+n.id).then((function(data){return{user:data.user,posts:data.user.decks.reverse()}})).catch((function(t){}))},data:function(){return{user:null,posts:null,flickityOptions:{initialIndex:0,prevNextButtons:!1,pageDots:!1,wrapAround:!0,autoPlay:4e3,contain:!0}}},methods:{fetchUser:function(){var t=this;return Object(c.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$axios.$get("https://hutech-alumnni-social.herokuapp.com/api/auth/"+t.$route.params.id);case 3:n=e.sent,t.user=n.user,e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})))()},onFollow:function(){var t=this;return Object(c.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$axios.$post("https://hutech-alumnni-social.herokuapp.com"+"/api/auth/".concat(t.$route.params.id));case 3:e.sent.success&&(t.fetchUser(),t.$store.dispatch("getUser")),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})))()}},head:function(){return{title:"".concat(this.user.fullName?this.user.fullName:this.user.name)}}},l=n(20),component=Object(l.a)(o,(function(){var t=this,e=this,r=e.$createElement,c=e._self._c||r;return c("main",{staticClass:"main-wrapper profile"},[c("section",{staticClass:"user pd-profile"},[c("div",{staticClass:"container"},[c("div",{staticClass:"user__card"},[c("div",{staticClass:"user__card-info"},[c("div",{staticClass:"user__card-avatar"},[void 0!==e.user.avatar?c("img",{attrs:{src:e.user.avatar,alt:""}}):c("img",{attrs:{src:n(676),alt:""}})]),e._v(" "),c("div",{staticClass:"user__card-text"},[c("div",{staticClass:"name"},[e._v(e._s(e.user.fullName))]),e._v(" "),c("div",{staticClass:"school-year"},[e._v(e._s(e.user.role))])]),e._v(" "),c("div",{staticClass:"user__card-control"},[c("div",{staticClass:"btn-sendmess"},[e._v("Nhắn tin")]),e._v(" "),-1===e.user.followers.findIndex((function(e){return e._id===t.$store.state.user._id}))?c("div",{staticClass:"btn-follow",on:{click:e.onFollow}},[e._v("\n              Theo dõi\n            ")]):c("div",{staticClass:"btn-follow",on:{click:e.onFollow}},[c("a-icon",{attrs:{type:"user"}}),e._v(" "),c("a-icon",{style:{fontSize:"10px"},attrs:{type:"check"}})],1)])]),e._v(" "),c("div",{staticClass:"user__card-connect"},[c("div",{staticClass:"post"},[e._v("Bài viết: "+e._s(e.user.decks.length))]),e._v(" "),c("div",{staticClass:"follower"},[e._v("\n            "+e._s(e.user.followers.length)+" người theo dõi\n          ")]),e._v(" "),c("div",{staticClass:"following"},[e._v("\n            Đang theo dõi: "+e._s(e.user.following.length)+"\n          ")])])]),e._v(" "),e._m(0)])]),e._v(" "),c("section",{staticClass:"main-profile mr-top pd-profile"},[c("div",{staticClass:"container"},[c("div",{staticClass:"nav"},[c("ul",{staticClass:"nav__options"},[c("li",{staticClass:"nav__options-item"},[c("nuxt-link",{attrs:{to:"/user/"+e.user._id}},[e._v("Bài viết")])],1)])]),e._v(" "),c("div",{staticClass:"posts"},e._l(e.posts,(function(t){return c("div",{key:t._id,staticClass:"posts__item"},[c("nuxt-link",{staticClass:"posts__item-slide",attrs:{to:"/posts/"+t._id}},[""==t.image||null==t.image||null==t.image?c("div",{staticClass:"description"},[c("span",{domProps:{innerHTML:e._s(t.content)}})]):c("client-only",[c("Flickity",{ref:"flickity",refInFor:!0,staticClass:"slide",attrs:{options:e.flickityOptions}},e._l(t.image,(function(img,t){return c("div",{key:t,staticClass:"slide__img"},[c("img",{attrs:{src:img,alt:""}})])})),0)],1)],1)],1)})),0)])])])}),r,!1,null,null,null);e.default=component.exports}}]);