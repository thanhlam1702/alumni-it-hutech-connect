(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{1256:function(t,e,r){"use strict";r.r(e);var n=r(20),component=Object(n.a)({},(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"nav"},[e("ul",{staticClass:"nav__options"},[e("li",{staticClass:"nav__options-item"},[e("nuxt-link",{attrs:{to:"/profile/edit"}},[this._v("Chỉnh sửa trang cá nhân")])],1),this._v(" "),e("li",{staticClass:"nav__options-item"},[e("nuxt-link",{attrs:{to:"/profile/change-password"}},[this._v("Đổi mật khẩu")])],1)])])}),[],!1,null,null,null);e.default=component.exports},1347:function(t,e,r){"use strict";r.r(e);r(67),r(36);var n=r(16),o={components:{NavOption:r(1256).default},data:function(){var t=this;return{form:{oldPass:null,newPass:null,confirm:null},pass:{password:null,password2:null},rules:{oldPass:{required:!0,message:"Vui lòng nhập mật khẩu cũ"},newPass:[{validator:function(e,r,n){null===t.form.confirm&&""===t.form.confirm||(null===/^(?=.*\d)(?=.*[a-zA-Z]).{6,25}$/.exec(t.form.newPass)&&n(new Error("Mật khẩu gồm chữ, số và lớn hơn 6 ký tự!")),t.$refs.ruleForm.validateField("confirm")),n()},trigger:"change"},{required:!0,message:"Vui lòng nhập mật khẩu mới!"}],confirm:[{validator:function(e,r,n){r!==t.form.newPass?n(new Error("Mật khẩu không trùng khớp!")):n()},trigger:"change"},{required:!0,message:"Vui lòng nhập lại mật khẩu mới!"}]}}},methods:{onSubmit:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.pass.password=t.form.oldPass,t.pass.password2=t.form.newPass,t.$refs.ruleForm.validate((function(t){})),e.prev=3,e.next=6,t.$axios.$put("https://hutech-alumnni-social.herokuapp.com/api/auth/user",t.pass);case 6:e.sent.success&&t.$notification.success({message:"Đổi mật khẩu thành công"}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),t.$notification.error({message:"Nhập sai mật khẩu cũ"});case 13:case"end":return e.stop()}}),e,null,[[3,10]])})))()},onBack:function(){this.$router.back()}}},l=r(20),component=Object(l.a)(o,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"main-wrapper change-password"},[r("section",{staticClass:"container content-profile pd-profile"},[r("NavOption"),t._v(" "),r("div",{staticClass:"profile"},[r("div",{staticClass:"profile__info"},[r("a-form-model",{ref:"ruleForm",attrs:{model:t.form,rules:t.rules}},[r("a-form-model-item",{attrs:{label:"Mật khẩu hiện tại",prop:"oldPass"}},[r("a-input-password",{staticClass:"info",attrs:{"allow-clear":"",type:"password"},model:{value:t.form.oldPass,callback:function(e){t.$set(t.form,"oldPass",e)},expression:"form.oldPass"}},[r("a-icon",{attrs:{slot:"prefix",type:"lock"},slot:"prefix"})],1)],1),t._v(" "),r("a-form-model-item",{attrs:{label:"Mật khẩu mới",prop:"newPass","has-feedback":""}},[r("a-input-password",{staticClass:"info",attrs:{"allow-clear":"",type:"password"},model:{value:t.form.newPass,callback:function(e){t.$set(t.form,"newPass",e)},expression:"form.newPass"}},[r("a-icon",{attrs:{slot:"prefix",type:"lock"},slot:"prefix"})],1)],1),t._v(" "),r("a-form-model-item",{attrs:{label:"Nhập lại mật khẩu mới",prop:"confirm","has-feedback":""}},[r("a-input-password",{staticClass:"info",attrs:{"allow-clear":"",type:"password"},model:{value:t.form.confirm,callback:function(e){t.$set(t.form,"confirm",e)},expression:"form.confirm"}},[r("a-icon",{attrs:{slot:"prefix",type:"lock"},slot:"prefix"})],1)],1),t._v(" "),r("div",{staticClass:"profile__info-item button"},[r("a-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v(" Lưu ")]),t._v(" "),r("a-button",{staticStyle:{"background-color":"#e4e6eb"},on:{click:t.onBack}},[t._v("\n              Trở về\n            ")])],1)],1)],1)])],1)])}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{NavOption:r(1256).default})}}]);